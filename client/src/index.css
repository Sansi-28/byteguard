@import "tailwindcss";

/* ═══════════════════════════════════════════════════════
   ByteGuard — Design-Token-Driven Theme
   ─────────────────────────────────────────────────────
   All colour values live as CSS custom properties so
   every component just references `var(--…)`.
   The active palette is switched by [data-theme] on <html>.
   ═══════════════════════════════════════════════════════ */

/* ── Light Mode Tokens ──────────────────────────────── */
[data-theme="light"] {
  color-scheme: light;

  /* Backgrounds */
  --bg:              #f8f9fd;
  --surface:         #FFFFFF;
  --surface-secondary:#f0f4f8;
  --surface-elevated: #FFFFFF;

  /* Text hierarchy */
  --text-primary:    #1a202c;
  --text-secondary:  #4a5568;
  --text-muted:      #718096;

  /* Primary accent (modern indigo/purple) */
  --accent:          #6366f1;
  --accent-hover:    #4f46e5;
  --accent-soft:     #e0e7ff;
  --accent-text:     #4f46e5;

  /* Secondary accent (teal) */
  --accent2:         #14b8a6;
  --accent2-soft:    #ccfbf1;

  /* Borders & dividers */
  --border:          #e2e8f0;
  --border-hover:    #cbd5e0;

  /* Status colours */
  --success:         #10b981;
  --success-soft:    #d1fae5;
  --warning:         #f59e0b;
  --warning-soft:    #fef3c7;
  --error:           #ef4444;
  --error-soft:      #fee2e2;
  --info:            #3b82f6;
  --info-soft:       #dbeafe;

  /* Misc */
  --overlay:         rgba(15, 23, 42, 0.5);
  --spinner-track:   #e2e8f0;
  --spinner-accent:  #6366f1;
  --scrollbar-thumb: rgba(99, 102, 241, 0.3);
  --scrollbar-hover: rgba(99, 102, 241, 0.5);
  --selection-bg:    rgba(99, 102, 241, 0.2);
  --selection-text:  #1a202c;
  --input-bg:        #f7fafc;
  --code-bg:         #f7fafc;
  --shadow:          rgba(0, 0, 0, 0.08);
  --shadow-lg:       rgba(0, 0, 0, 0.12);
}

/* ── Dark Mode Tokens ───────────────────────────────── */
[data-theme="dark"] {
  color-scheme: dark;

  --bg:              #0f1419;
  --surface:         #1a1f2e;
  --surface-secondary:#252b3b;
  --surface-elevated: #2d3548;

  --text-primary:    #e4e7eb;
  --text-secondary:  #a0aec0;
  --text-muted:      #718096;

  --accent:          #818cf8;
  --accent-hover:    #a5b4fc;
  --accent-soft:     rgba(99, 102, 241, 0.15);
  --accent-text:     #a5b4fc;

  --accent2:         #2dd4bf;
  --accent2-soft:    rgba(20, 184, 166, 0.15);

  --border:          #2d3748;
  --border-hover:    #4a5568;

  --success:         #34d399;
  --success-soft:    rgba(16, 185, 129, 0.15);
  --warning:         #fbbf24;
  --warning-soft:    rgba(245, 158, 11, 0.15);
  --error:           #f87171;
  --error-soft:      rgba(239, 68, 68, 0.15);
  --info:            #60a5fa;
  --info-soft:       rgba(59, 130, 246, 0.15);

  --overlay:         rgba(0, 0, 0, 0.7);
  --spinner-track:   #2d3748;
  --spinner-accent:  #818cf8;
  --scrollbar-thumb: rgba(129, 140, 248, 0.3);
  --scrollbar-hover: rgba(129, 140, 248, 0.5);
  --selection-bg:    rgba(129, 140, 248, 0.3);
  --selection-text:  #FFFFFF;
  --input-bg:        rgba(255, 255, 255, 0.05);
  --code-bg:         #161b22;
  --shadow:          rgba(0, 0, 0, 0.3);
  --shadow-lg:       rgba(0, 0, 0, 0.5);
}

/* ── Base Reset ─────────────────────────────────────── */
html { background: var(--bg); }

body {
  background: var(--bg);
  color: var(--text-primary);
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background 0.25s ease, color 0.25s ease;
}

/* ── Scrollbar ──────────────────────────────────────── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-hover); }

/* ── Selection ──────────────────────────────────────── */
::selection {
  background: var(--selection-bg);
  color: var(--selection-text);
}

/* ── Focus Ring ─────────────────────────────────────── */
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
}

/* ── Surface Cards ──────────────────────────────────── */
.surface-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 0.75rem;
  padding: 1.25rem;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.surface-card:hover {
  border-color: var(--border-hover);
  box-shadow: 0 2px 12px var(--shadow);
}

/* ── Spinner ────────────────────────────────────────── */
@keyframes spin { to { transform: rotate(360deg); } }

.spinner {
  width: 2.5rem; height: 2.5rem;
  border: 3px solid var(--spinner-track);
  border-top-color: var(--spinner-accent);
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}
.spinner-sm {
  width: 0.75rem; height: 0.75rem;
  border: 2px solid var(--spinner-track);
  border-top-color: var(--spinner-accent);
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}

/* ── Animations ─────────────────────────────────────── */
@keyframes slideIn {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to   { opacity: 1; transform: scale(1); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

.animate-slide-in  { animation: slideIn 0.3s ease; }
.animate-scale-in  { animation: scaleIn 0.2s ease; }
.animate-fade-in   { animation: fadeIn  0.2s ease; }

/* ── Mobile Responsiveness ──────────────────────────── */
@media (max-width: 768px) {
  button, input, select, textarea {
    min-height: 44px; /* Touch-friendly size */
  }
  
  /* Larger tap targets */
  button.touch-target {
    min-width: 44px;
    min-height: 44px;
  }
}

/* ── Utility Classes ────────────────────────────────── */
.truncate-2-lines {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.glass-morphism {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
